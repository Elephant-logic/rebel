<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rebel Stream Viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="viewer-body">
  <div class="viewer-shell">
    <header class="viewer-header">
      <div>
        <h1 class="logo-text">Rebel <span class="logo-highlight">Stream</span></h1>
        <p class="subtitle">Live Viewer</p>
      </div>
      <div class="viewer-status">
        <span id="viewerStatus" class="viewer-status-pill">OFFLINE</span>
        <span id="latencyBadge" class="latency-pill" style="display:none;">⏱️</span>
      </div>
    </header>

    <main class="viewer-main">
      <section class="viewer-video-area">
        <video id="viewerVideo" autoplay playsinline controls muted></video>
        <div class="viewer-overlay">
          <span id="viewerStatusMirror" class="mirror-latency"></span>
        </div>
      </section>

      <aside class="viewer-side">
        <div class="viewer-field">
          <label>Your Name</label>
          <input id="viewerNameInput" type="text" placeholder="e.g. Dave" />
        </div>
        <div class="viewer-field">
          <label>Room ID</label>
          <input id="viewerRoomInput" type="text" placeholder="room from host" />
        </div>
        <button id="viewerJoinBtn" class="btn primary full-width">Join Stream Chat</button>

        <button id="requestCallBtn" class="btn secondary full-width" style="margin-top:10px;">
          ✋ Request On-Stage Call
        </button>

        <div class="viewer-chat-area">
          <h3>Stream Chat</h3>
          <div id="viewerChatLog" class="chat-log"></div>
          <div class="chat-input-row">
            <input id="viewerChatInput" type="text" placeholder="Say something..." />
            <button id="viewerChatSendBtn" class="btn primary">Send</button>
          </div>
        </div>

        <div class="viewer-toolbox">
          <h3>Arcade / Toolbox</h3>
          <div id="toolboxContainer" class="toolbox-list"></div>
        </div>

        <div class="viewer-selfcam">
          <h3>On-Stage Preview</h3>
          <video id="selfCamPreview" autoplay playsinline muted></video>
        </div>
      </aside>
    </main>
  </div>

  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
  <script src="config/ice.js"></script>
  <script src="viewer.js"></script>
</body>
</html>
