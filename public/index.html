<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Rebel Messenger â€” Host</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="top-bar">
  <div id="roomInfo">Room: â€”</div>
  <div id="signalStatus" class="status-disconnected">Disconnected</div>
</div>

<div class="main-area">
  <!-- LEFT SIDE: Local video + strip -->
  <div class="video-zone">
    <video id="localVideo" autoplay playsinline muted></video>
    <div id="callStrip" class="call-strip"></div>
  </div>

  <!-- RIGHT SIDE: Chat + User List -->
  <div class="right-panel">
    <div class="user-list-block">
      <h3>Users</h3>
      <ul id="userList"></ul>
      <button id="lockBtn" class="btn small">Lock Room</button>
    </div>

    <div class="chat-panel">
      <div id="chatLog" class="chat-log"></div>
      <div class="chat-input-row">
        <input id="chatInput" type="text" placeholder="Type a messageâ€¦" />
        <button id="sendBtn" class="btn small">Send</button>
      </div>
      <div id="emojiStrip" class="emoji-strip">
        <span class="emoji">ğŸ˜€</span>
        <span class="emoji">ğŸ˜‚</span>
        <span class="emoji">ğŸ”¥</span>
        <span class="emoji">â¤ï¸</span>
        <span class="emoji">ğŸ¤™</span>
        <span class="emoji">ğŸ¤˜</span>
      </div>

      <div class="file-row">
        <input id="fileInput" type="file" />
        <span id="fileNameLabel">No file</span>
        <button id="sendFileBtn" class="btn small" disabled>Send</button>
      </div>
    </div>
  </div>
</div>

<!-- BOTTOM CONTROLS -->
<div class="control-bar">
  <input id="roomInput" type="text" placeholder="Room Name" />
  <input id="nameInput" type="text" placeholder="Your Name" />

  <button id="joinBtn" class="btn primary">Join</button>
  <button id="leaveBtn" class="btn" disabled>Leave</button>

  <button id="startCallBtn" class="btn">Start Call</button>
  <button id="changeCamBtn" class="btn">Change Cam</button>
  <button id="toggleCamBtn" class="btn small">Camera Off</button>
  <button id="toggleMicBtn" class="btn small">Mute</button>
  <button id="settingsBtn" class="btn small">Settings</button>

  <button id="shareScreenBtn" class="btn">Share Screen</button>

  <button id="startStreamBtn" class="btn primary">Start Stream</button>
  <button id="hangupBtn" class="btn" disabled>End Stream</button>
</div>

<!-- VIEWER LINK -->
<div class="viewer-row">
  <input id="streamLinkInput" type="text" readonly />
  <button id="openStreamBtn" class="btn">Open Viewer</button>
</div>

<!-- INCOMING CALL POPUP (created dynamically) -->
<div id="incomingCallContainer"></div>

<!-- SETTINGS MODAL -->
<div id="settingsModal" class="modal hidden">
  <div class="modal-content">
    <h3>Audio / Video Settings</h3>
    <label>Camera</label>
    <select id="videoSelect"></select>
    <label>Microphone</label>
    <select id="audioSelect"></select>
    <div class="modal-actions">
      <button id="closeSettingsBtn" class="btn">Cancel</button>
      <button id="applySettingsBtn" class="btn primary">Apply</button>
    </div>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="app.js"></script>
</body>
</html>
