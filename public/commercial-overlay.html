<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Commercial Break</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: black;
        color: white;
        font-family: Arial, sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        overflow: hidden;
    }

    .container {
        text-align: center;
    }

    .brand {
        font-size: 3rem;
        font-weight: bold;
        color: {{accentColor}};
        margin-bottom: 20px;
    }

    .subtext {
        font-size: 1.5rem;
        margin-bottom: 30px;
    }

    #countdown {
        font-size: 4rem;
        font-weight: bold;
        color: white;
        transition: color 0.3s ease;
    }
</style>
</head>

<body>
<div class="container">
    <div class="brand">{{brand}}</div>
    <div class="subtext">{{message}}</div>
    <div id="countdown">{{duration}}</div>
</div>

<script>
    // =====================================================
    // Commercial Countdown Logic (Fixed)
    // =====================================================
    let sec = parseInt("{{duration}}", 10) || 30;
    const el = document.getElementById('countdown');
    el.textContent = sec;

    const timer = setInterval(() => {
        sec--;
        if (sec <= 0) {
            sec = 0;
            clearInterval(timer);
            // Highlight finished state using accent color
            document.getElementById('countdown').style.color = "{{accentColor}}";
        }
        el.textContent = sec;
    }, 1000);
</script>

</body>
</html>
